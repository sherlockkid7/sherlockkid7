---
title: 2020年8月份工作小结
date: 2020-08-29 10:36:45
tags: 随记
categories: 工作
---

进入前端行业，已经工作一个月了，期间时常迷茫以及不适应，感觉自己入错坑了，偶尔代码写的很顺利，才会找回一点点继续下去的信心。八月中旬的时候工作特别不顺，期间写了特别颓废的日记，每天在吐槽中硬着头皮熬下来。有时候不禁想前端这条路我到底走对了没，但是好像也没有回头路可让我走，希望时间可以见证我走过这段艰难岁月的胜利！（失败了，可能会没有勇气再重头打拼吧）

简单总结下工作内容以及遇到的问题，这个月主要是进行一个政府网站项目，前期写静态页面，中下旬进行置标、修改bug，最后几天着手写一个vue项目。

#### 1.flex布局的问题

之前没找到工作的时候，自己总结了flex布局的知识都忘光了。（知识时刻都在从大脑流逝，一生都学习不完）

需要让某元素中的盒子每两个排列一行，剩余盒子依次如此排列

```css
.father{
display:flex;
flex-wrap: wrap;
}
.box{
flex:1;
width:50%;
max-width:50%;
min-width:50%;
}
```

#### 2.点击元素，让该元素下某个元素显示、隐藏

```js
$("#rmore").click(function () {
     $(this).find('.more-list').stop().slideToggle();
})
```

#### 3. JS（jquery）实现的一些功能合集

##### 1.判断文章内容为空，如果有且仅有一个附件，判断附件类型如果是pdf,直接打开；如果是其他附件直接下载

```js
$(function(){
	// 获取文章内容
	var txt = $('#article').text();
	// 去除文章中包含的空格、换行、tab缩进等所有的空白
	txt=txt.trim().replace(/\s/g,"");
	// 当没有内容并且有且仅有一个附件
	if(!txt && ($(".attachments ul li").length==1)){
		var thisItem = $(".attachments ul li").eq(0).find('a');
		// 得到当前附件的href属性
		var thisHref = thisItem.attr('href');
		// 获取后缀名
		var houzhui = getExt(thisHref);
		// 当前附件的名字
		var thisName = thisItem.text().trim().replace(/\s/g,"")
		if(houzhui=='pdf'){
			window.location.replace(thisHref);
		}else{
			// 下载附件
			download(thisHref,thisName);
			// 关闭文章页面
			setTimeout(function(){
				window.opener = null;
				window.open('', '_self');
				window.close();
			},1000)
		}
	};
	function getExt(filename)
	{
		var a = filename.split(".");
		if( a.length === 1 || ( a[0] === "" && a.length === 2 ) ) {
			return "";
		}
		return a.pop();
	};
	function download(url, filename) {
        return fetch(url).then(res => res.blob().then(blob => {
            let a = document.createElement('a');
            let url = window.URL.createObjectURL(blob);
            a.href = url;
            a.download = filename;
            a.click();
            window.URL.revokeObjectURL(url);
        }))
	}
})
```

##### 2.去掉特定的词语，并展示到页面

```js
$('.attachments > .attachments-list > li > a').html(function () {
	return this.innerHTML.replace(/(附件：)/g, '')
})
```

##### 3.当a标签的`href`属性为'#'或者为空，a标签不能点击且不出现手指

```js
$(".post-bg a").each(function () {
    var href = $(this).attr("href");
    if (href == '#' || href == '') {
    $(this).removeAttr('href');
    $(this).removeAttr('onclick');
    $(this).css('cursor', 'default');
    }
})
```

##### 4.兼容ie9浏览器

```js
if (navigator.appName === 'Microsoft Internet Explorer') {
    //判断是否是IE浏览器
    if (navigator.userAgent.match(/Trident/i) && navigator.userAgent.match(/MSIE 9.0/i)) {
    $('.disclosure ul .frist').css('background', '#166aab');
    $('.disclosure ul li').addClass('bgcolor');
    }
}
```

##### 5.二级菜单的展示与隐藏

```js
// 循环某元素的子元素，如果子元素下有二级子元素，移除当前子元素下a标签的href属性，显示图标
$(".more-list li").each(function () {
    if ($(this).find(".mtwo-list").find("li").length > 0) {
    $(this).find(".list").removeAttr('href');
    $(this).find('.two-more').css('display', 'block');
    }
})
// 点击子元素展示二级菜单，并改变图标样式
$('.list').click(function () {
    $(this).next(".mtwo-list").stop().slideToggle();
    $(this).toggleClass("active");
})
```

##### 6.手机端点击`tabar`栏，点击一次切换样式效果，双击实现跳转

```js
var cwidth = document.documentElement.clientWidth;
if (cwidth < 1200) { 
    $('.news .hd li a').click(function () { 
        $('.news .hd li a').removeAttr('href');
        if($(this).parents("li").hasClass("on")){ 
            $(this).attr('href',$(this).attr("m-href")); 
        } 
    }) 
}else { 
    $('.news .hd li a').each(function () { 
        var href=$(this).attr("m-href"); 
        $(this).attr('href', href);
    }) 
}
```



##### 7.获取当前元素的高度，让其兄弟元素的高度与其一致

```js
var firstHeight = $('.intro').outerHeight(true);
$('.tel').height(firstHeight);
$('.addre').height(firstHeight);
```

##### 8.让分号后面的内容换行显示

```js
var text = $('.addre .office-desc').text().replace(/[;；]/g, ";<br/>");
$('.addre .office-desc').html(text);
```

##### 9.特殊文字两行显示

```js
var specail = $(".add-item a").get(12);
specail.style.lineHeight = "30px";
var string = '社区管理处' + '<br/>' + '(社区矫正管理总队)';
specail.innerHTML = string;
var cwidth = document.documentElement.clientWidth;
if (cwidth < 1200) {
specail.style.lineHeight = ".48rem";
}
```

##### 10.返回顶部

```js
$("#back-top").click(function () {
    $('html , body').animate({
    scrollTop: 0
    }, 'slow');
})
```

