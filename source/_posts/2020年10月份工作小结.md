---
title: 2020年10月份工作小结
date: 2020-11-01 14:15:46
tags: 随记
categories: 工作
---

这个月主要是对好几个写好的pc网站进行手机端开发，还写了另外两个手机端页面，使用ajax调用后台数据（这个之前没有写过，算是学习了些新知识）。

还是简单总结下这个月工作中遇到的难题。

#### 1.特殊处理的手机端二级菜单。根据当前页面显示的栏目标题获取特定的二级菜单

```js
// 特殊处理的标题组成一个数组
 var speTitle = ['人防政务服务事项目录','双万双服促发展','优化营商环境政策措施']; 
 // 获取当前页面的标题的文字
 var speTxt = $('.list-head .list-title').text();
 // 去掉文字前后的空格
 var newTxt = speTxt.trim().replace(/\s/g,"");
 
 if(newTxt == speTitle[0] ||newTxt == speTitle[1] ||newTxt == speTitle[2]){
  $(".two-menu").html('');
  $('.sub-menu ul li').each(function(){
    var name = $(this).find("span").text();
    var url = $(this).attr("data-url"); 
    $(".two-menu").append('< a href="'+url+'">'+name+'</ a>');
    $(".two-menu").css('width','3rem');
   })
  } else{
   $(".two-menu").html('');
   $("#list-left .left-menu-content").each(function(){
    var url = $(this).attr("data-url");
    var name = $(this).find(".menu-item").attr("title");
    $(".two-menu").append('< a href="'+ url +'">'+ name +'</ a>');
   })
  }
```

#### 2.去除点击a标签的背景色

```css
a {
    -webkit-tap-highlight-color: rgba(0,0,0,0);
} 
```

#### 3.手机端的tab栏切换，单击实现菜单栏切换效果，双击实现页面跳转

```js
// 1.动态设置每个菜单的num属性为0（当菜单栏为激活状态是，它的num属性设置为1）；
// 2.每个菜单点击一次，则让它的num属性加一，其它的菜单num属性变为0；
// 3.当菜单的num属性为2时，实现跳转
var cwidth = document.documentElement.clientWidth;
if (cwidth < 1200) {
    $('.tab-title span').attr('num',0);
    $('.tab-title span.active').attr('num',1);
    $('.tab-title span').click(function () {
    var thisNum = parseInt($(this).attr('num'))+1;
    $('.tab-title span').attr('num',0);
    $(this).attr('num',thisNum);
    if(thisNum==2){
    $(this).find('a').attr('href', $(this).find('a').attr("m-href"));
    }
    })
} else {
    $('.tab-title span a').each(function () {
    var href = $(this).attr("m-href");
    $(this).attr('href', href);
    })
}
```

#### 4.当options的长度超出select选择框的长度，控制options的文字长度，让其不超出选择框

```js
$(".bottom-select.mshow option").each(function(){
		var content =$(this).html().trim();
		if (content.length >10) {
         //截取文本0到10的文字，并加上省略号   
		var value =content.substring(0,10) +'...';
		$(this).html(value);
		$(this).attr('title',content);
		$(this).css('font-size','.26rem');
		}
	})
```

#### 5.html中head里面常用代码

```html
<!-- 声明文档使用的字符编码 -->
<meta http-equiv="Content-Type" content="textml; charset=utf-8">
<!-- 为移动设备添加 viewport -->
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 -->
<meta name="HandheldFriendly" content="true">
<!--强制Chromium内核作用于360浏览器、QQ浏览器等国产双核浏览器-->
<meta name="renderer" content="webkit" />
<!--强制Chromium内核，作用于其他双核浏览器-->
<meta name="force-rendering" content="webkit" />
<!--如果有安装 Google Chrome Frame 插件则强制为Chromium内核，否则强制本机支持的最高版本IE内核，作用于IE浏览器：-->
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />

<title>标题</title>
<meta name="keywords" content="标题">
<meta name="description" content="标题">
```



